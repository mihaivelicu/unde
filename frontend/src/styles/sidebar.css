/* src/styles/sidebar.css */

@import "./theme.css";

/* ───────── overlay (darkens map) ───────── */
.sidebar-overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.30);
  opacity:0; pointer-events:none;
  transition:opacity .28s ease;
  z-index:300;
}
.sidebar-overlay.open{ opacity:1; pointer-events:auto; }

/* ───────── sliding panel ───────── */
.sidebar{
  position:fixed; top:0; left:0;
  width:min(88vw, 340px);
  height:100dvh;
  display:flex; flex-direction:column;
  gap:32px; padding:40px 24px 24px;
  background:var(--glass);
  backdrop-filter:blur(30px);
  border-right:1px solid rgba(0,0,0,.05);
  box-shadow:0 4px 40px rgba(0,0,0,.15);
  transform:translateX(-100%);
  transition:transform .32s cubic-bezier(.2,.8,.2,1);
  z-index:350;
  overflow-y:auto;
  touch-action: none; /* Prevent browser scrolling during drag */
}
.sidebar.open{ transform:translateX(0); }

/* ── hide pill while sidebar visible ── */
body.sidebar-open .header-button{ display:none !important; }

/* ★★★ NEW GRABBER STYLES ★★★ */
.sidebar-grabber {
  position: absolute;
  top: 0;
  right: 0;
  width: 24px; /* Wider touch target */
  height: 100%;
  cursor: ew-resize; /* Indicates horizontal dragging */
  z-index: 351;
}

.sidebar-grabber::after {
  content: '';
  position: absolute;
  top: 50%;
  right: 8px; /* Position the visual bar inside the sidebar */
  transform: translateY(-50%);
  width: 5px;
  height: 44px;
  background: rgba(0, 0, 0, 0.14);
  border-radius: 9999px;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}
/* ★★★ END OF NEW STYLES ★★★ */


/* ───────── “Current group” ───────── */
.current-group-label{
  font:500 14px/1 'Inter',sans-serif;
  color:var(--fg-muted); margin:0 0 4px;
}
.current-group-name{
  font:700 22px/1.2 'Inter',sans-serif; margin:0; color:var(--fg);
  max-width:calc(100% - 80px); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.sg-header-row{
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  gap:10px;
  flex-direction: row;
}
.sg-header-actions{ 
  display:flex; 
  flex-direction: row;
  gap:8px; 
  margin:0; }

/* ── icon buttons ── */
.icon-btn{
  border:none; background:transparent; cursor:pointer;
  width:36px; height:36px; border-radius:12px;
  color:var(--fg-muted); display:grid; place-items:center;
  transition:background .15s,color .15s;
}

/* Add a tap/click effect for all devices */
.icon-btn:active {
  background: rgba(0,0,0,.06);
  color: var(--fg);
}

/* Only apply hover styles on devices that can actually hover */
@media (hover: hover) and (pointer: fine) {
  .icon-btn:hover{
    background: rgba(0,0,0,.06);
    color: var(--fg);
  }
}

/* ───────── all groups list ───────── */
.group-list-title{
  font:500 14px/1 'Inter',sans-serif;
  color:var(--fg-muted); margin:32px 0 8px;
}
.sg-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:6px; }
.sg-item{ display:flex; align-items:center; gap:10px; }
.group-item{
  flex:1 1 auto; font:600 16px 'Inter',sans-serif; color:var(--fg);
  text-decoration:none;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.group-item:hover{ background:rgba(0,0,0,.05); }

/* ───────── “Create group” button (sticky) ───────── */
.create-group{ 
  position:sticky; 
  margin-bottom:64px; 
  margin-top:auto; }
.button.primary{
  width:100%; font:700 17px/1 'Inter',sans-serif;
  background:var(--brand); color:#fff; border:none; border-radius:18px;
  padding:16px 0; transition:background .15s;
}
.button.primary:hover{ background:color-mix(in srgb, var(--brand) 90%, #000); }

/* —— close “×” button —— */
.sidebar-close{
  position:absolute; top:4px; right:4px;
  width:48px; height:48px;
  border:none; border-radius:12px;
  background:transparent; color:var(--fg);
  font-size:36px;
  line-height:1;
  cursor:pointer;
  transition:background .15s;
  z-index: 352; /* Ensure it's above the grabber */
}
.sidebar-close:hover{ background:rgba(0,0,0,.06); }